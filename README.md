# 作業ダッシュボード

チームでの作業管理を視覚化するためのシンプルなダッシュボードアプリケーションです。作業項目とメンバーを管理し、各作業の進捗状況を直感的に把握できます。

## 特徴

- 📋 **作業項目の管理**: 複数の作業項目を追加・編集・上下移動・削除
- 👥 **メンバー管理**: 名札機能でチームメンバーを管理
- 🎨 **カスタマイズ可能**: メンバーや作業項目ごとに色分けが可能
- 🔄 **ドラッグ&ドロップ**: 名札を作業ステージにドラッグして割り当て
- ↩️ **Undo機能**: 操作を元に戻す(最大50回まで)
- 💾 **自動保存**: ブラウザのローカルストレージに自動保存
- 📱 **レスポンシブデザイン**: モバイルでも使いやすいUI

## デモ

ブラウザで `dashboard.html` を開くだけで、すぐに使い始められます。

## バージョン

このプロジェクトには2つのバージョンがあります：

1. **スタンドアロン版** (`dashboard.html`) - ブラウザで直接開いて使用
2. **Googleスプレッドシート版** - Google Apps Scriptで動作（詳細は[Googleスプレッドシート版のインストール](#googleスプレッドシート版のインストール)を参照）

## 使い方

### 基本的な使い方

1. **HTMLファイルを開く**
   ```bash
   open dashboard.html
   ```
   または、ブラウザで直接ファイルを開いてください。

2. **メンバーを追加**
   - 「名札を追加」ボタンをクリック
   - 名前を入力して、色を選択
   - 名札が左側のサイドバーに表示されます

3. **作業項目を追加**
   - 「行を追加」ボタンをクリック
   - 作業項目のタイトルを編集

4. **作業の割り当て**
   - 名札をドラッグして、該当する作業のステージにドロップ
   - メンバーを作業項目に簡単に割り当てられます

5. **作業項目の整理**
   - 各行の「↑」「↓」ボタンで並び替え
   - 「×」ボタンで行を削除

### 機能詳細

#### 名札機能
- **追加**: 「名札を追加」ボタンから新規作成
- **編集**: 名札をクリックして名前を編集
- **色変更**: 名札の色アイコンをクリックして色を選択
- **削除**: 名札の「×」ボタンで削除
- **配置リセット**: 「配置リセット」ボタンで、作業項目に割り当てられた全ての名札をプールに戻します

#### 作業項目管理
- **タイトル編集**: 作業項目のタイトルをクリックして編集
- **色変更**: 作業項目の色アイコンをクリックして背景色を変更
- **並び替え**: 矢印ボタンで上下に移動
- **削除**: 各行の「×」ボタンで削除
- **作業全消去**: 「作業全消去」ボタンですべての作業項目を削除（名札はプールに戻ります）

#### Undo機能
- **元に戻す**: 「元に戻す (Undo)」ボタンで直前の操作を元に戻す
- **履歴**: 最大50回までの操作履歴を保持

#### ステージ
各作業項目は以下のステージを持ちます：
1. 一次作業
2. ダブルチェック
3. 最終確認

名札をドラッグして各ステージに配置することで、誰がどの段階の作業を担当しているかを視覚化できます。

## データの保存

- すべてのデータはブラウザのローカルストレージに自動保存されます
  - 名札の追加・編集・削除・色変更時
  - 作業項目の追加・編集・削除・色変更時
  - 名札をドラッグ＆ドロップして作業に割り当てた時
  - リセット操作時
- ページを閉じても、次回開いた時に同じ状態が復元されます
- データはブラウザ内に保存されるため、他のデバイスやブラウザとは共有されません

## 技術仕様

- **言語**: HTML5, CSS3, JavaScript (Vanilla JS)
- **依存関係**: なし（外部ライブラリ不要）
- **ブラウザ対応**: モダンブラウザ（Chrome, Firefox, Safari, Edge）
- **ストレージ**: localStorage API

## ファイル構成

```
working_dashboard/
├── README.md                 # このファイル
├── README_GOOGLE_SHEETS.md  # Googleスプレッドシート版の詳細ガイド
├── LICENSE                  # MITライセンス
├── dashboard.html           # メインアプリケーション（スタンドアロン版）
├── gas_dashboard.gs         # Google Apps Scriptコード
├── sidebar.html             # Googleスプレッドシート版のサイドバー
├── SPREADSHEET_PORT.md      # 旧Googleスプレッドシート版（参考用）
└── AGENTS.md                # 開発メモ
```

## ブラウザ要件

- HTML5対応ブラウザ
- JavaScript有効化必須
- localStorage対応必須

## カスタマイズ

`dashboard.html` 内のCSSを編集することで、デザインをカスタマイズできます：
- カラースキーム
- フォント
- レイアウト
- ステージの数や名前

## トラブルシューティング

### データが保存されない
- ブラウザのプライベートモード（シークレットモード）では、localStorageが制限される場合があります
- ブラウザの設定でCookieやlocalStorageが無効になっていないか確認してください

### 名札がドラッグできない
- ブラウザが最新版であることを確認してください
- JavaScript が有効になっていることを確認してください

## ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。詳細は [LICENSE](LICENSE) ファイルを参照してください。

## 貢献

バグ報告や機能要望は、GitHubのIssuesでお気軽にご連絡ください。

## 作者

Hiro

## Googleスプレッドシート版

Googleスプレッドシート上で直接ダッシュボードを使用できます。スプレッドシートのセルを使用した本格的な実装で、チームでの共同作業に最適です。

### 主な機能

- ✅ 名札の追加・編集・色変更・削除
- ✅ 作業項目の追加・編集・上下移動・削除
- ✅ 3段階のワークフロー（一次作業→ダブルチェック→最終確認）
- ✅ 名札のコピー&ペーストでの割り当て
- ✅ Undo機能（最大20回まで）
- ✅ 複数人での共同編集対応
- ✅ サイドバーからの各種操作

### インストール手順

1. **Googleスプレッドシートを開く**
   - 新しいスプレッドシートを作成

2. **スクリプトエディタを開く**
   - 「拡張機能」 → 「Apps Script」をクリック

3. **gas_dashboard.gs を貼り付け**
   - デフォルトのコードをすべて削除
   - `gas_dashboard.gs` の内容を貼り付け
   - 保存

4. **sidebar.html を作成**
   - 「+」ボタン → 「HTML」を選択
   - ファイル名を `sidebar` に設定
   - `sidebar.html` の内容を貼り付け
   - 保存

5. **初回実行と権限承認**
   - 関数のドロップダウンから `onOpen` を選択
   - 「実行」をクリック
   - 権限の確認ダイアログが表示されたら承認

6. **ダッシュボードを初期化**
   - スプレッドシートをリロード
   - 「ダッシュボード」メニュー → 「初期化」をクリック

### 使い方

- **メニュー操作**: 「ダッシュボード」メニューから各種操作が可能
- **サイドバー**: 「ダッシュボード」メニュー → 「サイドバーを開く」で操作用UIを表示
- **名札の移動**: コピー(Ctrl+C/Cmd+C)と貼り付け(Ctrl+V/Cmd+V)を使用
- **編集**: セルをダブルクリックして直接編集

詳細な使い方や機能説明は [README_GOOGLE_SHEETS.md](README_GOOGLE_SHEETS.md) を参照してください。

## 更新履歴

- **v1.2.0** (2025-12): Undo機能と追加機能を実装
  - HTML版にUndo機能を追加（最大50回）
  - 作業項目の色変更機能を追加
  - Googleスプレッドシート版を本格実装
    - シートのセルを使用したダッシュボード
    - Undo機能（最大20回）
    - 名札・作業項目の色変更
    - 作業項目の上下移動
    - 名札・作業項目の個別削除
    - サイドバーからの各種操作
- **v1.1.0** (2025-11): 自動保存機能を実装
  - LocalStorageを使用した状態の永続化
  - 名札と作業項目の配置、色、名前が自動保存されるよう実装
  - ページ読み込み時に保存されたデータを自動復元
  - ドラッグ&ドロップ、色変更、リセット操作時に自動保存をトリガー
- **v1.0.0** (2025-11): 初回リリース
  - 基本的な作業管理機能
  - 名札機能
  - ドラッグ&ドロップ
  - Googleスプレッドシート版の初期実装
